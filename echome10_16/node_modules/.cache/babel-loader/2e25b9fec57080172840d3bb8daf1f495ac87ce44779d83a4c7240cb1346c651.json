{"ast":null,"code":"import Vue from \"vue\";\nimport Router from \"vue-router\";\nVue.use(Router);\nimport { basicRouter } from \"@/views/basic/basicRouter\";\nimport { homebasic } from \"@/views/home/redirectRouter\";\nimport { iotRouter } from \"@/views/iot/iotRouter\";\nimport { userRouter } from \"@/views/user/userRouter\";\nconst myroutes = [homebasic, basicRouter, iotRouter, userRouter];\nconst router = new Router({\n  mode: \"history\",\n  routes: myroutes\n});\nexport default router;\nrouter.beforeEach((to, from, next) => {\n  console.log(to.meta.authRequired, to, to.fullPath);\n  let token = localStorage.getItem(\"token\");\n  if (to.meta.authRequired && token) {\n    next({\n      name: \"login\",\n      query: {\n        redirect: to.fullPath\n      }\n    });\n  } else {\n    next();\n  }\n});","map":{"version":3,"names":["Vue","Router","use","basicRouter","homebasic","iotRouter","userRouter","myroutes","router","mode","routes","beforeEach","to","from","next","console","log","meta","authRequired","fullPath","token","localStorage","getItem","name","query","redirect"],"sources":["D:/前端/e家项目仿照/echome3_16/echome3_16/src/router/index.js"],"sourcesContent":["import Vue from \"vue\";\r\nimport Router from \"vue-router\";\r\nVue.use(Router);\r\nimport { basicRouter } from \"@/views/basic/basicRouter\";\r\nimport { homebasic } from \"@/views/home/redirectRouter\";\r\nimport { iotRouter } from \"@/views/iot/iotRouter\";\r\nimport { userRouter } from \"@/views/user/userRouter\";\r\nconst myroutes = [homebasic, basicRouter, iotRouter, userRouter];\r\nconst router = new Router({\r\n  mode: \"history\",\r\n  routes: myroutes,\r\n});\r\nexport default router;\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  console.log(to.meta.authRequired, to, to.fullPath);\r\n  let token = localStorage.getItem(\"token\");\r\n  if (to.meta.authRequired && token) {\r\n    next({\r\n      name: \"login\",\r\n      query: { redirect: to.fullPath },\r\n    });\r\n  } else {\r\n    next();\r\n  }\r\n});\r\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,MAAM,MAAM,YAAY;AAC/BD,GAAG,CAACE,GAAG,CAACD,MAAM,CAAC;AACf,SAASE,WAAW,QAAQ,2BAA2B;AACvD,SAASC,SAAS,QAAQ,6BAA6B;AACvD,SAASC,SAAS,QAAQ,uBAAuB;AACjD,SAASC,UAAU,QAAQ,yBAAyB;AACpD,MAAMC,QAAQ,GAAG,CAACH,SAAS,EAAED,WAAW,EAAEE,SAAS,EAAEC,UAAU,CAAC;AAChE,MAAME,MAAM,GAAG,IAAIP,MAAM,CAAC;EACxBQ,IAAI,EAAE,SAAS;EACfC,MAAM,EAAEH;AACV,CAAC,CAAC;AACF,eAAeC,MAAM;AAErBA,MAAM,CAACG,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpCC,OAAO,CAACC,GAAG,CAACJ,EAAE,CAACK,IAAI,CAACC,YAAY,EAAEN,EAAE,EAAEA,EAAE,CAACO,QAAQ,CAAC;EAClD,IAAIC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACzC,IAAIV,EAAE,CAACK,IAAI,CAACC,YAAY,IAAIE,KAAK,EAAE;IACjCN,IAAI,CAAC;MACHS,IAAI,EAAE,OAAO;MACbC,KAAK,EAAE;QAAEC,QAAQ,EAAEb,EAAE,CAACO;MAAS;IACjC,CAAC,CAAC;EACJ,CAAC,MAAM;IACLL,IAAI,EAAE;EACR;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}