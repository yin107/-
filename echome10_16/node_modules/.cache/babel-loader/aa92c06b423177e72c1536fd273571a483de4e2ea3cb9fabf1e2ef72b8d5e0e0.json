{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mixins } from \"@/minxin/index.js\";\nimport breadCrumb from \"components/breadCrumb\";\nimport pagnationCom from \"components/pagnationCom\";\nimport filterChose from \"@/components/filterChose.vue\";\nexport default {\n  name: \"ListVue\",\n  components: {\n    breadCrumb,\n    pagnationCom,\n    filterChose\n  },\n  mixins: [mixins],\n  data() {\n    return {\n      tableData: [],\n      tableHeader: [{\n        prop: \"id\",\n        label: \"编号\"\n      }, {\n        prop: \"detail\",\n        label: \"详细\"\n      }, {\n        prop: \"type\",\n        label: \"房产类型\"\n      }, {\n        prop: \"created_at\",\n        label: \"导入时间\"\n      }, {\n        prop: \"action\",\n        label: \"操作\"\n      }],\n      pagenum: 1,\n      pagesize: 10,\n      total: 1,\n      pagesizes: [20, 50, 100, 200],\n      filter: undefined,\n      filterData: [{\n        title: \"房产类型：\",\n        type: \"radio\",\n        value: \"buildingType\",\n        filters: {\n          buildingType: undefined\n        },\n        radiod: [{\n          label: undefined,\n          title: \"全部\"\n        }, {\n          label: 1,\n          title: \"住宅\"\n        }, {\n          label: 2,\n          title: \"车位\"\n        }, {\n          label: 3,\n          title: \"仓库\"\n        }, {\n          label: 4,\n          title: \"商户\"\n        }, {\n          label: 5,\n          title: \"车库\"\n        }]\n      }]\n    };\n  },\n  mounted() {\n    this.getData();\n  },\n  methods: {\n    // 获取数据\n    getData() {\n      this.$request({\n        url: \"/building/list\",\n        method: \"post\",\n        data: {\n          community_id: this.community_id,\n          page_num: this.pagenum,\n          page_size: this.pagesize,\n          type: this.filter\n        }\n      }).then(res => {\n        this.tableData = res.data.data.list;\n        this.total = res.data.data.total;\n      });\n    },\n    //查看详情\n    gotoDetail(id) {\n      this.$router.push({\n        name: \"detailbuilding\",\n        query: {\n          id: id\n        }\n      });\n    },\n    handleSizeChange(val) {\n      this.pagesize = val;\n      this.getData();\n    },\n    handlechangenum(val) {\n      this.pagenum = val;\n      this.getData();\n    }\n  },\n  computed: {},\n  watch: {\n    'filterData[0].filters.buildingType': {\n      handler() {\n        this.getData();\n      }\n    }\n  }\n};","map":{"version":3,"names":["mixins","breadCrumb","pagnationCom","filterChose","name","components","data","tableData","tableHeader","prop","label","pagenum","pagesize","total","pagesizes","filter","undefined","filterData","title","type","value","filters","buildingType","radiod","mounted","getData","methods","$request","url","method","community_id","page_num","page_size","then","res","list","gotoDetail","id","$router","push","query","handleSizeChange","val","handlechangenum","computed","watch","handler"],"sources":["src/views/basic/bulding/list.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <bread-crumb></bread-crumb>\r\n    <el-card style=\"margin-top: 20px\">\r\n      <filter-chose :filterData.sync=\"filterData\"></filter-chose>\r\n      <div style=\"text-align: left\">\r\n        <span>房产类型：</span>\r\n        <el-radio-group v-model=\"filter\">\r\n          <el-radio-button :label=\"undefined\">全部</el-radio-button>\r\n          <el-radio-button :label=\"1\">住宅</el-radio-button>\r\n          <el-radio-button :label=\"2\">车位</el-radio-button>\r\n          <el-radio-button :label=\"3\">仓库</el-radio-button>\r\n          <el-radio-button :label=\"4\">商户</el-radio-button>\r\n          <el-radio-button :label=\"5\">车库</el-radio-button>\r\n        </el-radio-group>\r\n      </div>\r\n    </el-card>\r\n    <el-card style=\"margin-top: 20px\">\r\n      <!-- 表格 -->\r\n      <el-table :data=\"tableData\">\r\n        <el-table-column\r\n          v-for=\"item of tableHeader\"\r\n          :key=\"item.prop\"\r\n          :prop=\"item.prop\"\r\n          :label=\"item.label\"\r\n        >\r\n          <div slot-scope=\"scope\" v-if=\"item.prop === 'type'\">\r\n            <el-tag\r\n              :style=\"{\r\n                backgroundColor: buildingType(scope.row[item.prop]).color,\r\n              }\"\r\n              >{{ buildingType(scope.row[item.prop]).value }}</el-tag\r\n            >\r\n          </div>\r\n          <div slot-scope=\"scope\" v-else-if=\"item.prop === 'created_at'\">\r\n            {{ (scope.row[item.prop] * 1000) | formatDate() }}\r\n          </div>\r\n          <div slot-scope=\"scope\" v-else-if=\"item.prop === 'detail'\">\r\n            {{ detailInfo(scope.row) }}\r\n          </div>\r\n          <div\r\n            slot-scope=\"scope\"\r\n            v-else-if=\"item.prop === 'action'\"\r\n            style=\"color: blue\"\r\n            class=\"doaction\"\r\n            @click=\"gotoDetail(scope.row.id)\"\r\n          >\r\n            查看\r\n          </div>\r\n          <div v-else slot-scope=\"scope\">\r\n            {{ scope.row[item.prop] }}\r\n          </div>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页器 -->\r\n      <pagnation-com\r\n        :pagenum=\"pagenum\"\r\n        :pagesize=\"pagesize\"\r\n        :total=\"total\"\r\n        @handleSizeChange=\"handleSizeChange\"\r\n        @handlechangenum=\"handlechangenum\"\r\n        :pagesizes=\"pagesizes\"\r\n      ></pagnation-com>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mixins } from \"@/minxin/index.js\";\r\nimport breadCrumb from \"components/breadCrumb\";\r\nimport pagnationCom from \"components/pagnationCom\";\r\nimport filterChose from \"@/components/filterChose.vue\";\r\nexport default {\r\n  name: \"ListVue\",\r\n  components: { breadCrumb, pagnationCom, filterChose },\r\n  mixins: [mixins],\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      tableHeader: [\r\n        { prop: \"id\", label: \"编号\" },\r\n        { prop: \"detail\", label: \"详细\" },\r\n        { prop: \"type\", label: \"房产类型\" },\r\n        { prop: \"created_at\", label: \"导入时间\" },\r\n        { prop: \"action\", label: \"操作\" },\r\n      ],\r\n      pagenum: 1,\r\n      pagesize: 10,\r\n      total: 1,\r\n      pagesizes: [20, 50, 100, 200],\r\n      filter: undefined,\r\n      filterData: [\r\n        {\r\n          title: \"房产类型：\",\r\n          type: \"radio\",\r\n          value: \"buildingType\",\r\n          filters: { buildingType: undefined },\r\n          radiod: [\r\n            { label: undefined, title: \"全部\" },\r\n            { label: 1, title: \"住宅\" },\r\n            { label: 2, title: \"车位\" },\r\n            { label: 3, title: \"仓库\" },\r\n            { label: 4, title: \"商户\" },\r\n            { label: 5, title: \"车库\" },\r\n          ],\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    // 获取数据\r\n    getData() {\r\n      this.$request({\r\n        url: \"/building/list\",\r\n        method: \"post\",\r\n        data: {\r\n          community_id: this.community_id,\r\n          page_num: this.pagenum,\r\n          page_size: this.pagesize,\r\n          type: this.filter,\r\n        },\r\n      }).then((res) => {\r\n        this.tableData = res.data.data.list;\r\n        this.total = res.data.data.total;\r\n      });\r\n    },\r\n    //查看详情\r\n    gotoDetail(id) {\r\n      this.$router.push({ name: \"detailbuilding\", query: { id: id } });\r\n    },\r\n\r\n    handleSizeChange(val) {\r\n      this.pagesize = val;\r\n      this.getData();\r\n    },\r\n    handlechangenum(val) {\r\n      this.pagenum = val;\r\n      this.getData();\r\n    },\r\n  },\r\n  computed: {},\r\n  watch: {\r\n    'filterData[0].filters.buildingType': {\r\n      handler() {\r\n        this.getData();\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"],"mappings":";AAoEA,SAAAA,MAAA;AACA,OAAAC,UAAA;AACA,OAAAC,YAAA;AACA,OAAAC,WAAA;AACA;EACAC,IAAA;EACAC,UAAA;IAAAJ,UAAA;IAAAC,YAAA;IAAAC;EAAA;EACAH,MAAA,GAAAA,MAAA;EACAM,KAAA;IACA;MACAC,SAAA;MACAC,WAAA,GACA;QAAAC,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,KAAA;MAAA,EACA;MACAC,OAAA;MACAC,QAAA;MACAC,KAAA;MACAC,SAAA;MACAC,MAAA,EAAAC,SAAA;MACAC,UAAA,GACA;QACAC,KAAA;QACAC,IAAA;QACAC,KAAA;QACAC,OAAA;UAAAC,YAAA,EAAAN;QAAA;QACAO,MAAA,GACA;UAAAb,KAAA,EAAAM,SAAA;UAAAE,KAAA;QAAA,GACA;UAAAR,KAAA;UAAAQ,KAAA;QAAA,GACA;UAAAR,KAAA;UAAAQ,KAAA;QAAA,GACA;UAAAR,KAAA;UAAAQ,KAAA;QAAA,GACA;UAAAR,KAAA;UAAAQ,KAAA;QAAA,GACA;UAAAR,KAAA;UAAAQ,KAAA;QAAA;MAEA;IAEA;EACA;EACAM,QAAA;IACA,KAAAC,OAAA;EACA;EACAC,OAAA;IACA;IACAD,QAAA;MACA,KAAAE,QAAA;QACAC,GAAA;QACAC,MAAA;QACAvB,IAAA;UACAwB,YAAA,OAAAA,YAAA;UACAC,QAAA,OAAApB,OAAA;UACAqB,SAAA,OAAApB,QAAA;UACAO,IAAA,OAAAJ;QACA;MACA,GAAAkB,IAAA,CAAAC,GAAA;QACA,KAAA3B,SAAA,GAAA2B,GAAA,CAAA5B,IAAA,CAAAA,IAAA,CAAA6B,IAAA;QACA,KAAAtB,KAAA,GAAAqB,GAAA,CAAA5B,IAAA,CAAAA,IAAA,CAAAO,KAAA;MACA;IACA;IACA;IACAuB,WAAAC,EAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QAAAnC,IAAA;QAAAoC,KAAA;UAAAH,EAAA,EAAAA;QAAA;MAAA;IACA;IAEAI,iBAAAC,GAAA;MACA,KAAA9B,QAAA,GAAA8B,GAAA;MACA,KAAAjB,OAAA;IACA;IACAkB,gBAAAD,GAAA;MACA,KAAA/B,OAAA,GAAA+B,GAAA;MACA,KAAAjB,OAAA;IACA;EACA;EACAmB,QAAA;EACAC,KAAA;IACA;MACAC,QAAA;QACA,KAAArB,OAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}