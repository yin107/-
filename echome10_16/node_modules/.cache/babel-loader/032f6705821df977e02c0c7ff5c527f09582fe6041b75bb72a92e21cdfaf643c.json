{"ast":null,"code":"import { mixins } from \"@/minxin/index.js\";\nimport breadCrumb from \"components/breadCrumb\";\nimport pagnationCom from \"components/pagnationCom\";\nexport default {\n  name: \"ListVue\",\n  components: {\n    breadCrumb,\n    pagnationCom\n  },\n  mixins: [mixins],\n  data() {\n    return {\n      tableData: [],\n      tableHeader: [{\n        prop: \"id\",\n        label: \"编号\"\n      }, {\n        prop: \"detail\",\n        label: \"详细\"\n      }, {\n        prop: \"type\",\n        label: \"房产类型\"\n      }, {\n        prop: \"created_at\",\n        label: \"导入时间\"\n      }, {\n        prop: \"action\",\n        label: \"操作\"\n      }],\n      pagenum: 1,\n      pagesize: 10,\n      total: 1,\n      pagesizes: [20, 50, 100, 200],\n      filter: undefined\n    };\n  },\n  mounted() {\n    this.getData();\n  },\n  methods: {\n    // 获取数据\n    getData() {\n      this.$request({\n        url: \"/building/list\",\n        method: \"post\",\n        data: {\n          community_id: this.community_id,\n          page_num: this.pagenum,\n          page_size: this.pagesize,\n          type: this.filter\n        }\n      }).then(res => {\n        this.tableData = res.data.data.list;\n        this.total = res.data.data.total;\n      });\n    },\n    //builduingType\n    buildingType(item) {\n      let res = {};\n      switch (item) {\n        case 1:\n          res = {\n            value: \"住宅\",\n            color: \"red\"\n          };\n          break;\n        case 2:\n          res = {\n            value: \"车位\",\n            color: \"blue\"\n          };\n          break;\n        case 3:\n          res = {\n            value: \"仓房\",\n            color: \"pink\"\n          };\n          break;\n        case 4:\n          res = {\n            value: \"商户\",\n            color: \"skyblue\"\n          };\n          break;\n        case 5:\n          res = {\n            value: \"车库\",\n            color: \"orange\"\n          };\n          break;\n      }\n      return res;\n    },\n    //detail\n    detailInfo(item) {\n      let types = this.buildingType(item.type);\n      let res = (item.area ? item.area : \"\") + \" \" + (item.building ? item.building : \"\") + \" \" + (item.unit ? item.unit : \"\") + \" \" + item.number + types.value;\n      return res;\n    },\n    handleSizeChange(val) {\n      this.pagesize = val;\n      this.getData();\n    },\n    handlechangenum(val) {\n      this.pagenum = val;\n      this.getData();\n    }\n  },\n  computed: {},\n  watch: {\n    filter: {\n      handler(newValue, oldValue) {\n        console.log(newValue);\n      }\n    }\n  }\n};","map":{"version":3,"names":["mixins","breadCrumb","pagnationCom","name","components","data","tableData","tableHeader","prop","label","pagenum","pagesize","total","pagesizes","filter","undefined","mounted","getData","methods","$request","url","method","community_id","page_num","page_size","type","then","res","list","buildingType","item","value","color","detailInfo","types","area","building","unit","number","handleSizeChange","val","handlechangenum","computed","watch","handler","newValue","oldValue","console","log"],"sources":["src/views/basic/bulding/list.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <bread-crumb></bread-crumb>\r\n    <el-card style=\"margin-top: 20px\">\r\n      <div style=\"text-align: left;\">\r\n        <span>房产类型：</span>\r\n        <el-radio-group v-model=\"filter\">\r\n          <el-radio-button :label=\"undefined\">全部</el-radio-button>\r\n          <el-radio-button :label=\"1\">住宅</el-radio-button>\r\n          <el-radio-button :label=\"2\">车位</el-radio-button>\r\n          <el-radio-button :label=\"3\">仓库</el-radio-button>\r\n          <el-radio-button :label=\"4\">商户</el-radio-button>\r\n          <el-radio-button :label=\"5\">车库</el-radio-button>\r\n        </el-radio-group>\r\n      </div>\r\n    </el-card>\r\n    <el-card style=\"margin-top: 20px\">\r\n      <!-- 表格 -->\r\n      <el-table :data=\"tableData\">\r\n        <el-table-column\r\n          v-for=\"item of tableHeader\"\r\n          :key=\"item.prop\"\r\n          :prop=\"item.prop\"\r\n          :label=\"item.label\"\r\n        >\r\n          <div slot-scope=\"scope\" v-if=\"item.prop === 'type'\">\r\n            <el-tag\r\n              :style=\"{\r\n                backgroundColor: buildingType(scope.row[item.prop]).color,\r\n              }\"\r\n              >{{ buildingType(scope.row[item.prop]).value }}</el-tag\r\n            >\r\n          </div>\r\n          <div slot-scope=\"scope\" v-else-if=\"item.prop === 'created_at'\">\r\n            {{ (scope.row[item.prop] * 1000) | formatDate() }}\r\n          </div>\r\n          <div slot-scope=\"scope\" v-else-if=\"item.prop === 'detail'\">\r\n            {{ detailInfo(scope.row) }}\r\n          </div>\r\n          <div v-else-if=\"item.prop === 'action'\" style=\"color: blue\">查看</div>\r\n          <div v-else slot-scope=\"scope\">\r\n            {{ scope.row[item.prop] }}\r\n          </div>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页器 -->\r\n      <pagnation-com\r\n        :pagenum=\"pagenum\"\r\n        :pagesize=\"pagesize\"\r\n        :total=\"total\"\r\n        @handleSizeChange=\"handleSizeChange\"\r\n        @handlechangenum=\"handlechangenum\"\r\n        :pagesizes=\"pagesizes\"\r\n      ></pagnation-com>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mixins } from \"@/minxin/index.js\";\r\nimport breadCrumb from \"components/breadCrumb\";\r\nimport pagnationCom from \"components/pagnationCom\";\r\nexport default {\r\n  name: \"ListVue\",\r\n  components: { breadCrumb, pagnationCom },\r\n  mixins: [mixins],\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      tableHeader: [\r\n        { prop: \"id\", label: \"编号\" },\r\n        { prop: \"detail\", label: \"详细\" },\r\n        { prop: \"type\", label: \"房产类型\" },\r\n        { prop: \"created_at\", label: \"导入时间\" },\r\n        { prop: \"action\", label: \"操作\" },\r\n      ],\r\n      pagenum: 1,\r\n      pagesize: 10,\r\n      total: 1,\r\n      pagesizes: [20, 50, 100, 200],\r\n      filter: undefined,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    // 获取数据\r\n    getData() {\r\n      this.$request({\r\n        url: \"/building/list\",\r\n        method: \"post\",\r\n        data: {\r\n          community_id: this.community_id,\r\n          page_num: this.pagenum,\r\n          page_size:this.pagesize,\r\n          type: this.filter,\r\n        },\r\n      }).then((res) => {\r\n        this.tableData = res.data.data.list;\r\n        this.total = res.data.data.total;\r\n      });\r\n    },\r\n    //builduingType\r\n    buildingType(item) {\r\n      let res = {};\r\n      switch (item) {\r\n        case 1:\r\n          res = { value: \"住宅\", color: \"red\" };\r\n          break;\r\n        case 2:\r\n          res = { value: \"车位\", color: \"blue\" };\r\n          break;\r\n        case 3:\r\n          res = { value: \"仓房\", color: \"pink\" };\r\n          break;\r\n        case 4:\r\n          res = { value: \"商户\", color: \"skyblue\" };\r\n          break;\r\n        case 5:\r\n          res = { value: \"车库\", color: \"orange\" };\r\n          break;\r\n      }\r\n      return res;\r\n    },\r\n    //detail\r\n    detailInfo(item) {\r\n      let types = this.buildingType(item.type);\r\n      let res =\r\n        (item.area ? item.area : \"\") +\r\n        \" \" +\r\n        (item.building ? item.building : \"\") +\r\n        \" \" +\r\n        (item.unit ? item.unit : \"\") +\r\n        \" \" +\r\n        item.number +\r\n        types.value;\r\n      return res;\r\n    },\r\n    handleSizeChange(val) {\r\n      this.pagesize = val;\r\n      this.getData();\r\n    },\r\n    handlechangenum(val) {\r\n      this.pagenum = val;\r\n      this.getData();\r\n    },\r\n  },\r\n  computed: {},\r\n  watch:{\r\n\tfilter:{\r\n\t\thandler(newValue,oldValue){\r\n\t\t\tconsole.log(newValue);\r\n\t\t}\r\n\t}\r\n  }\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"],"mappings":"AA2DA,SAAAA,MAAA;AACA,OAAAC,UAAA;AACA,OAAAC,YAAA;AACA;EACAC,IAAA;EACAC,UAAA;IAAAH,UAAA;IAAAC;EAAA;EACAF,MAAA,GAAAA,MAAA;EACAK,KAAA;IACA;MACAC,SAAA;MACAC,WAAA,GACA;QAAAC,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,KAAA;MAAA,EACA;MACAC,OAAA;MACAC,QAAA;MACAC,KAAA;MACAC,SAAA;MACAC,MAAA,EAAAC;IACA;EACA;EACAC,QAAA;IACA,KAAAC,OAAA;EACA;EACAC,OAAA;IACA;IACAD,QAAA;MACA,KAAAE,QAAA;QACAC,GAAA;QACAC,MAAA;QACAhB,IAAA;UACAiB,YAAA,OAAAA,YAAA;UACAC,QAAA,OAAAb,OAAA;UACAc,SAAA,OAAAb,QAAA;UACAc,IAAA,OAAAX;QACA;MACA,GAAAY,IAAA,CAAAC,GAAA;QACA,KAAArB,SAAA,GAAAqB,GAAA,CAAAtB,IAAA,CAAAA,IAAA,CAAAuB,IAAA;QACA,KAAAhB,KAAA,GAAAe,GAAA,CAAAtB,IAAA,CAAAA,IAAA,CAAAO,KAAA;MACA;IACA;IACA;IACAiB,aAAAC,IAAA;MACA,IAAAH,GAAA;MACA,QAAAG,IAAA;QACA;UACAH,GAAA;YAAAI,KAAA;YAAAC,KAAA;UAAA;UACA;QACA;UACAL,GAAA;YAAAI,KAAA;YAAAC,KAAA;UAAA;UACA;QACA;UACAL,GAAA;YAAAI,KAAA;YAAAC,KAAA;UAAA;UACA;QACA;UACAL,GAAA;YAAAI,KAAA;YAAAC,KAAA;UAAA;UACA;QACA;UACAL,GAAA;YAAAI,KAAA;YAAAC,KAAA;UAAA;UACA;MAAA;MAEA,OAAAL,GAAA;IACA;IACA;IACAM,WAAAH,IAAA;MACA,IAAAI,KAAA,QAAAL,YAAA,CAAAC,IAAA,CAAAL,IAAA;MACA,IAAAE,GAAA,GACA,CAAAG,IAAA,CAAAK,IAAA,GAAAL,IAAA,CAAAK,IAAA,SACA,OACAL,IAAA,CAAAM,QAAA,GAAAN,IAAA,CAAAM,QAAA,SACA,OACAN,IAAA,CAAAO,IAAA,GAAAP,IAAA,CAAAO,IAAA,SACA,MACAP,IAAA,CAAAQ,MAAA,GACAJ,KAAA,CAAAH,KAAA;MACA,OAAAJ,GAAA;IACA;IACAY,iBAAAC,GAAA;MACA,KAAA7B,QAAA,GAAA6B,GAAA;MACA,KAAAvB,OAAA;IACA;IACAwB,gBAAAD,GAAA;MACA,KAAA9B,OAAA,GAAA8B,GAAA;MACA,KAAAvB,OAAA;IACA;EACA;EACAyB,QAAA;EACAC,KAAA;IACA7B,MAAA;MACA8B,QAAAC,QAAA,EAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAH,QAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}